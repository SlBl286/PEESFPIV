@page "/CMS/auth/logout"
@using PEESFPIV.Frontend.Components.Layout;
@using Microsoft.AspNetCore.Authentication;
@using PEESFPIV.Frontend.Constants;
@inject NavigationManager NavigationManager;
@layout CMSLayout

<PageTitle>Logout</PageTitle>


<p>Logging out...</p>

@code {
    [CascadingParameter]
    public HttpContext HttpContext {get;set;} = default!;

    protected override async Task OnInitializedAsync()
    {
        await HttpContext.SignOutAsync(Cookies.AuthScheme);
        NavigationManager.NavigateTo("/cms/auth/login",replace: true);
    } 

}

    
